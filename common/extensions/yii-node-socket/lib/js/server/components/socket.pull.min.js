module.exports={_sidPull:{},_uidPull:{},_volatileSidPull:{},_volatileUidPull:{},socketNumber:0,add:function(b){this.socketNumber++;var a=b.handshake.sid;var d=b.handshake.uid;if(this._volatileSidPull[a]&&!d){d=this._volatileSidPull[a]}if(!this._sidPull[a]){this._sidPull[a]={}}this._sidPull[a][b.id]=b;if(d){this.createSidUidLink(a,d)}var c=this;b.on("disconnect",function(){c.socketNumber--;if(c._sidPull[a]){if(d&&c._uidPull[d]&&c._uidPull[d][a]){delete c._uidPull[d][a]}delete c._sidPull[a][this.id]}})},createSidUidLink:function(a,b){if(this._sidPull[a]){if(!this._uidPull[b]){this._uidPull[b]={}}this._uidPull[b][a]=a;for(var c in this._sidPull[a]){this._sidPull[a][c].handshake.uid=b}}this._volatileSidPull[a]=b;if(!this._volatileUidPull[b]){this._volatileUidPull[b]={}}this._volatileUidPull[b][a]=a},destroySidUidLink:function(a,b){if(this._uidPull[b][a]){delete this._uidPull[b][a]}if(this._volatileUidPull[b][a]){delete this._volatileUidPull[b][a]}if(this._volatileSidPull[a]){delete this._volatileSidPull[a]}},getBySid:function(a){return this._sidPull[a]},getByUid:function(e){var b=this._uidPull[e];if(b){var d={};for(var a in b){var c=this.getBySid(a);for(var f in c){d[f]=c[f]}}return d}return null}};