var userEvent={componentManager:null,name:"userEvent",init:function(){},handler:function(e){if(e.meta.data.uid){var b=[];var c=userEvent.componentManager.get("sp");var d=null;for(var a in e.meta.data.uid){if(d=c.getByUid(e.meta.data.uid[a])){for(var g in d){b.push(d[g])}}}if(b.length>0){var f=function(h){if(e.meta.data.room){h.emit("room:"+e.meta.data.room+":"+e.meta.data.event,e.data)}else{if(e.meta.data.channel){h.emit("channel:"+e.meta.data.channel+":"+e.meta.data.event,e.data)}else{h.emit("global:"+e.meta.data.event,e.data)}}};for(var a in b){f(b[a])}}}}};module.exports=userEvent;