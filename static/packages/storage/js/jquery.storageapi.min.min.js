!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(y){function C(J){var e,E,h,g=arguments.length,K=window[J],H=arguments,I=H[1];if(2>g){throw Error("Minimum 2 arguments must be given")}if(y.isArray(I)){E={};for(var F in I){e=I[F];try{E[e]=JSON.parse(K.getItem(e))}catch(G){E[e]=K.getItem(e)}}return E}if(2!=g){try{E=JSON.parse(K.getItem(I))}catch(G){throw new ReferenceError(I+" is not defined in this storage")}for(var F=2;g-1>F;F++){if(E=E[H[F]],void 0===E){throw new ReferenceError([].slice.call(H,1,F+1).join(".")+" is not defined in this storage")}}if(y.isArray(H[F])){h=E,E={};for(var l in H[F]){E[H[F][l]]=h[H[F][l]]}return E}return E[H[F]]}try{return JSON.parse(K.getItem(I))}catch(G){return K.getItem(I)}}function b(J){var e,E,h=arguments.length,g=window[J],K=arguments,H=K[1],I=K[2],F={};if(2>h||!y.isPlainObject(H)&&3>h){throw Error("Minimum 3 arguments must be given or second parameter must be an object")}if(y.isPlainObject(H)){for(var G in H){e=H[G],y.isPlainObject(e)?g.setItem(G,JSON.stringify(e)):g.setItem(G,e)}return H}if(3==h){return"object"==typeof I?g.setItem(H,JSON.stringify(I)):g.setItem(H,I),I}try{E=g.getItem(H),null!=E&&(F=JSON.parse(E))}catch(l){}E=F;for(var G=2;h-2>G;G++){e=K[G],E[e]&&y.isPlainObject(E[e])||(E[e]={}),E=E[e]}return E[K[G]]=K[G+1],g.setItem(H,JSON.stringify(F)),F}function q(H){var e,l,h=arguments.length,g=window[H],I=arguments,F=I[1];if(2>h){throw Error("Minimum 2 arguments must be given")}if(y.isArray(F)){for(var G in F){g.removeItem(F[G])}return !0}if(2==h){return g.removeItem(F),!0}try{e=l=JSON.parse(g.getItem(F))}catch(m){throw new ReferenceError(F+" is not defined in this storage")}for(var G=2;h-1>G;G++){if(l=l[I[G]],void 0===l){throw new ReferenceError([].slice.call(I,1,G).join(".")+" is not defined in this storage")}}if(y.isArray(I[G])){for(var E in I[G]){delete l[I[G][E]]}}else{delete l[I[G]]}return g.setItem(F,JSON.stringify(e)),!0}function j(a,c){var f=A(a);for(var e in f){q(a,f[e])}if(c){for(var e in y.namespaceStorages){B(e)}}}function d(h){var e=arguments.length,o=arguments,g=(window[h],o[1]);if(1==e){return 0==A(h).length}if(y.isArray(g)){for(var a=0;a<g.length;a++){if(!d(h,g[a])){return !1}}return !0}try{var l=C.apply(this,arguments);y.isArray(o[e-1])||(l={totest:l});for(var a in l){if(!(y.isPlainObject(l[a])&&y.isEmptyObject(l[a])||y.isArray(l[a])&&!l[a].length)&&l[a]){return !1}}return !0}catch(m){return !0}}function D(h){var g=arguments.length,s=arguments,m=(window[h],s[1]);if(2>g){throw Error("Minimum 2 arguments must be given")}if(y.isArray(m)){for(var c=0;c<m.length;c++){if(!D(h,m[c])){return !1}}return !0}try{var e=C.apply(this,arguments);y.isArray(s[g-1])||(e={totest:e});for(var c in e){if(void 0===e[c]||null===e[c]){return !1}}return !0}catch(l){return !1}}function A(l){var g=arguments.length,E=window[l],t=arguments,h=(t[1],[]),c={};if(c=g>1?C.apply(this,t):E,c._cookie){for(var e in y.cookie()){""!=e&&h.push(e.replace(c._prefix,""))}}else{for(var m in c){h.push(m)}}return h}function B(a){if(!a||"string"!=typeof a){throw Error("First parameter must be a string")}w?(window.localStorage.getItem(a)||window.localStorage.setItem(a,"{}"),window.sessionStorage.getItem(a)||window.sessionStorage.setItem(a,"{}")):(window.localCookieStorage.getItem(a)||window.localCookieStorage.setItem(a,"{}"),window.sessionCookieStorage.getItem(a)||window.sessionCookieStorage.setItem(a,"{}"));var c={localStorage:y.extend({},y.localStorage,{_ns:a}),sessionStorage:y.extend({},y.sessionStorage,{_ns:a})};return y.cookie&&(window.cookieStorage.getItem(a)||window.cookieStorage.setItem(a,"{}"),c.cookieStorage=y.extend({},y.cookieStorage,{_ns:a})),y.namespaceStorages[a]=c,c}function x(f){var a="jsapi";try{return window[f]?(window[f].setItem(a,a),window[f].removeItem(a),!0):!1}catch(c){return !1}}var z="ls_",k="ss_",w=x("localStorage"),p={_type:"",_ns:"",_callMethod:function(g,c){var f=[this._type],c=Array.prototype.slice.call(c),a=c[0];return this._ns&&f.push(this._ns),"string"==typeof a&&-1!==a.indexOf(".")&&(c.shift(),[].unshift.apply(c,a.split("."))),[].push.apply(f,c),g.apply(this,f)},get:function(){return this._callMethod(C,arguments)},set:function(){var c=arguments.length,a=arguments,g=a[0];if(1>c||!y.isPlainObject(g)&&2>c){throw Error("Minimum 2 arguments must be given or first parameter must be an object")}if(y.isPlainObject(g)&&this._ns){for(var f in g){b(this._type,this._ns,f,g[f])}return g}var e=this._callMethod(b,a);return this._ns?e[g.split(".")[0]]:e},remove:function(){if(arguments.length<1){throw Error("Minimum 1 argument must be given")}return this._callMethod(q,arguments)},removeAll:function(a){return this._ns?(b(this._type,this._ns,{}),!0):j(this._type,a)},isEmpty:function(){return this._callMethod(d,arguments)},isSet:function(){if(arguments.length<1){throw Error("Minimum 1 argument must be given")}return this._callMethod(D,arguments)},keys:function(){return this._callMethod(A,arguments)}};if(y.cookie){window.name||(window.name=Math.floor(100000000*Math.random()));var v={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(a,c){y.cookie(this._prefix+a,c,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(a){return y.cookie(this._prefix+a)},removeItem:function(a){return y.removeCookie(this._prefix+a)},clear:function(){for(var a in y.cookie()){""!=a&&(!this._prefix&&-1===a.indexOf(z)&&-1===a.indexOf(k)||this._prefix&&0===a.indexOf(this._prefix))&&y.removeCookie(a)}},setExpires:function(a){return this._expires=a,this},setPath:function(a){return this._path=a,this},setDomain:function(a){return this._domain=a,this},setConf:function(a){return a.path&&(this._path=a.path),a.domain&&(this._domain=a.domain),a.expires&&(this._expires=a.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};w||(window.localCookieStorage=y.extend({},v,{_prefix:z,_expires:3650}),window.sessionCookieStorage=y.extend({},v,{_prefix:k+window.name+"_"})),window.cookieStorage=y.extend({},v),y.cookieStorage=y.extend({},p,{_type:"cookieStorage",setExpires:function(a){return window.cookieStorage.setExpires(a),this},setPath:function(a){return window.cookieStorage.setPath(a),this},setDomain:function(a){return window.cookieStorage.setDomain(a),this},setConf:function(a){return window.cookieStorage.setConf(a),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}y.initNamespaceStorage=function(a){return B(a)},w?(y.localStorage=y.extend({},p,{_type:"localStorage"}),y.sessionStorage=y.extend({},p,{_type:"sessionStorage"})):(y.localStorage=y.extend({},p,{_type:"localCookieStorage"}),y.sessionStorage=y.extend({},p,{_type:"sessionCookieStorage"})),y.namespaceStorages={},y.removeAllStorages=function(a){y.localStorage.removeAll(a),y.sessionStorage.removeAll(a),y.cookieStorage&&y.cookieStorage.removeAll(a),a||(y.namespaceStorages={})}});